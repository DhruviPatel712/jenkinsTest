pipeline {
    agent any
    tools {
        maven 'maven'
    }

    stages {

        stage('Build') {
            steps {

                 bat 'mvn clean package'

            }
        }

        stage('Deploy to Tomcat') {
            steps {
                script {
                  // deploy adapters: [tomcat9(credentialsId: '30bc9812-7857-470b-be20-2cba0331c22f', path: 'jenkinsTest', url: 'http://192.168.100.55:8080/')], contextPath: 'C:/Program Files/Apache Software Foundation/Tomcat 10.1', war: '**/*.war'
                  //deploy contextPath: 'C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1', war: '**/*.war'
                  // deploy adapters: [tomcat9(credentialsId: 'dhruvi', path: '', url: 'http://192.168.100.55:8080/')], contextPath: null, onFailure: false, war: '**/*.war'

                  //deploy adapters: [tomcat9(credentialsId: 'dhruvi', path: '', url: 'http://192.168.100.55:8080/')], contextPath: 'C:/Program Files/Apache Software Foundation/Tomcat 10.1/webapps', onFailure: false, war: '**/*.war'

                  //deploy adapters: [tomcat9(credentialsId: '6dda90c2-49aa-4881-8946-98983d1f63dc', path: '', url: 'http://192.168.100.55:8080/')], contextPath: 'C:/Program Files/Apache Software Foundation/Tomcat 10.1/webapps/', war: '**/*.war'
                  deploy adapters: [tomcat9(credentialsId: '86bd85f9-f1ca-4132-b414-d8bdf7334183', path: 'jenkinsTest', url: 'https://baeb-27-109-25-22.ngrok.io ')], contextPath: 'C:/Program Files/Apache Software Foundation/Tomcat 10.1', war: '**/*.war'

                }
            }
        }
    }
}
